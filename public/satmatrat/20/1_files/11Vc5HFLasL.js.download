define("CustomerFeedback",[window,"EventUtils","StyleUtils"],function(s,f,c,t){return function(k){var b=document.getElementById("dra-html"),h=document.createElement("iframe");h.id="cookieDropper";for(var l=nut(".item"),g=[],e=0;e<l.length;++e){var d=l[e].getAttribute("data-ph-category");if(!("string"===typeof d||d instanceof String)||0===d.length)return showFallback(Error("cf:item-with-no-hc"));g=g.concat(d.split(","))}var m=function(){return c.existsClass("trashed",b.className)},p=function(){c.existsClass("showingExpandedAdFeedbackOptions",
b.className)?b.className=c.removeClass("showingExpandedAdFeedbackOptions",b.className):b.className=c.addClass("showingExpandedAdFeedbackOptions",b.className)},q=function(){b.className=c.addClass("trashing-qs",b.className)},n=function(){var a=g.join(","),d={trashGroups:a};m()?(h.contentWindow.postMessage("RESTORE,"+a,k),b.className=c.removeClass("trashed",b.className),f.trigger("restored",!0,d)):(h.contentWindow.postMessage("TRASH,"+a,k),b.className=c.addClass("trashed",b.className),f.trigger("trashed",
!0,d))},e=function(a){c.existsClass("question-option",(a.currentTarget||a.target).className)&&(a=(a.currentTarget||a.target).getAttribute("data-trashreason"),a={trashGroups:g.join(","),trashReason:a},f.trigger("trashed",!0,a),b.className=c.removeClass("trashing-qs",b.className))},d=function(a){if(m())return n();if(c.existsClass("TOUCH_FRIENDLY",b.className)||c.existsClass("BANNER",b.className)&&(c.existsClass("MOBILE_WEB",b.className)||c.existsClass("MOBILE_APP",b.className)))return a.preventDefault?
a.preventDefault():a.returnValue=!1,p(),!1;c.existsClass("trash",(a.currentTarget||a.target).className)&&(n(),c.existsClass("TRASH_QUESTIONS",b.className)&&q())},l=function(a){p();c.existsClass("trash",(a.currentTarget||a.target).className)&&(n(),c.existsClass("TRASH_QUESTIONS",b.className)&&q())};window.addEventListener("message",function(a){if(!m()&&0===k.toUpperCase().indexOf(a.origin.toUpperCase())){if(!("string"===typeof a.data||a.data instanceof String))return showFallback(Error("cf:no-message"));
if(0!==a.data.length){a=a.data.split(",");for(var d={trashGroups:g.join(",")},e=0;e<a.length;++e)if(-1<g.indexOf(a[e])){b.className=c.addClass("trashed",b.className);f.trigger("pretrashed",!0,d);break}}b.className=c.removeClass("hasNotCheckedCookie",b.className);f.trigger("dra-cookies-checked",!0)}},!1);var r=nut("#privacy_with_customer_feedback a");r&&f.attach({elements:r,event:"click",callback:d});(d=nut("#questionnaire .question-option"))&&f.attach({elements:d,event:"click",callback:e});(e=nut("#ad_feedback_expanded_options .option"))&&
f.attach({elements:e,event:"click",callback:l});h.src=k+"/cookieDropper.html";b.appendChild(h)}});